<!--This is a test prototype for the chem research concept. Pseudocode and logic can be found on README.txt. In js/script.js, there is also some more logic that can be seen, as pseudocode is extensibely written step by step there as well...-->
<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="css/style.css"></link>
<script src='https://cdn.firebase.com/js/client/2.2.1/firebase.js'></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script type="text/javascript" src="js/scrape.js"></script>
<script type="text/javascript" src="js/backEnd.js"></script>
<script type="text/javascript" src="js/uiBranch.js"></script>
<script type="text/javascript" str="js/pdfjs-1.1.366-dist/build/pdf.worker.js"></script>
<script type="text/javascript" src="js/script.js"></script>
</head>
<body>
	<input type="text" id="input"></input>
	


<script type="text/javascript" str="js/pdfjs-1.1.366-dist/build/pdf.js"></script>
	<script type="text/javascript">
		"use strict";
		var pdf = PDFJS.getDocument('http://www.flinnsci.com/Documents/SDS/S/SulfuricAcidSol1M-Less.pdf');
		 
//		var pdf = PDFJS.getDocument('pacermanual.pdf');
		pdf.then(function(pdf) {
		 var maxPages = pdf.pdfInfo.numPages;
		 for (var j = 1; j <= maxPages; j++) {
		    var page = pdf.getPage(j);
		 
		    // the callback function - we create one per page
		    var processPageText = function processPageText(pageIndex) {
		      return function(pageData, content) {
		        return function(text) {
		          // bidiTexts has a property identifying whether this
		          // text is left-to-right or right-to-left
		          for (var i = 0; i < text.bidiTexts.length; i++) {
		            str += text.bidiTexts[i].str;
		          }
		 
		          if (pageData.pageInfo.pageIndex === 
		              maxPages - 1) {
		            // later this will insert into an index
		            console.log(str);
		          }
		        }
		      }
		    }(j);
		 
		    var processPage = function processPage(pageData) {
		      var content = pageData.getTextContent();
		 
		      content.then(processPageText(pageData, content));
		    }
		 
		    page.then(processPage);
		 }
		});
	</script>
</body>
</html>